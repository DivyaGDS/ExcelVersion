#!/bin/sh
#
# An example hook script to verify what is about to be committed.
# Called by "git commit" with no arguments.  The hook should
# exit with non-zero status after issuing an appropriate message if
# it wants to stop the commit.
#
# To enable this hook, rename this file to "pre-commit".


DecompressExcel(){

# To check and create a target folder if it is not present to store the java class file
if [ ! -d ./target/classes/excelHelper ];then
    mkdir -p ./target/classes/excelHelper;
    echo "Target folder doesn't exist. New Folder is created";
fi

# Compile and run the ExcelDecompression
 javac ./src/main/java/excelHelper/ExcelDecompression.java
 mv ./src/main/java/excelHelper/ExcelDecompression.class ./target/classes/excelHelper/
 java -cp ./target/classes excelHelper.ExcelDecompression

# Add the xml files decompressed from excel to git
 git add ./src/test/resources/testdata/pageobjects/pageobjectsdecompressedfolder/

 echo "In Precommit global hook"
}

DecompressExcel



